var extend=angular.extend,forEach=angular.forEach,isDefined=angular.isDefined,isNumber=angular.isNumber,isString=angular.isString,jqLite=angular.element,noop=angular.noop;!function(e,t){e.weui=e.weui||{},e.weui.version="0.0.1",e.weuiModule=angular.module("weui")}(window,document),function(e){e.factory("$weuiBody",["$document",function(e){return{addClass:function(){for(var t=0;t<arguments.length;t++)e[0].body.classList.add(arguments[t]);return this},removeClass:function(){for(var t=0;t<arguments.length;t++)e[0].body.classList.remove(arguments[t]);return this},enableClass:function(e){var t=Array.prototype.slice.call(arguments).slice(1);return e?this.addClass.apply(this,t):this.removeClass.apply(this,t),this},append:function(t){return e[0].body.appendChild(t.length?t[0]:t),this},get:function(){return e[0].body}}}])}(window.weuiModule),function(e){e.factory("$weuiDialog",["$timeout","$q","$weuiBody","$compile","$rootScope","$sce",function(e,t,n,r,i,s){function o(o){o=extend({scope:null,title:"弹窗标题",template:"自定义弹窗内容，居左对齐表示，告知需要确认的信息等",buttons:[],appendTo:n.get()},o||{});var u={};return u.scope=(o.scope||i).$new(),u.element=jqLite(l),u.responseDeferred=t.defer(),o.appendTo.appendChild(u.element[0]),r(u.element)(u.scope),extend(u.scope,{title:o.title,buttons:o.buttons,template:s.trustAsHtml(o.template),$buttonTapped:function(e,t){var n=(e.onTap||noop).apply(u,[t]);t=t.originalEvent||t,t.defaultPrevented||u.responseDeferred.resolve(n)}}),t.when(o.template||o.content||"").then(function(e){var t=jqLite(u.element[0].querySelector(".weui_dialog_bd"));e?(t.html(e),r(t.contents())(u.scope)):t.remove()}),u.show=function(){u.isShown||u.removed||(u.isShown=!0,u.element.removeClass("dialog-hidden"),u.element.addClass("dialog-showing active"))},u.hide=function(t){return t=t||noop,u.isShown?(u.isShown=!1,u.element.removeClass("active"),u.element.addClass("dialog-hidden"),void e(t,250,!1)):t()},u.remove=function(){u.removed||(u.hide(function(){u.element.remove(),u.scope.$destroy()}),u.removed=!0)},u}function u(t){function n(){e(r.show,i,!1),r.responseDeferred.promise.then(function(e){return r.remove(),e})}var r=c.createDialog(t),i=0;return r.responseDeferred.promise.close=function(e){r.removed||r.responseDeferred.resolve(e)},r.responseDeferred.notify({close:r.responseDeferred.close}),n(),r.responseDeferred.promise}function a(e){return u(extend({buttons:[{text:e.okText||"确定",type:e.okType||"primary",onTap:function(){return!0}}]},e||{}))}function f(e){return u(extend({buttons:[{text:e.cancelText||"取消",type:e.cancelType||"default",onTap:function(){return!1}},{text:e.okText||"确定",type:e.okType||"primary",onTap:function(){return!0}}]},e||{}))}var l='<div class="weui_dialog_confirm"><div class="weui_mask"></div><div class="weui_dialog"><div class="weui_dialog_hd"><strong class="weui_dialog_title" ng-bind="title"></strong></div><div class="weui_dialog_bd" ng-bind-html="template"></div><div class="weui_dialog_ft" ng-show="buttons.length"><a href="javascript:;" ng-repeat="button in buttons" ng-click="$buttonTapped(button, $event)" class="weui_btn_dialog" ng-class="button.type || \'primary\'" ng-bind="button.text"></a></div></div></div>',c={alert:a,confirm:f,createDialog:o};return c}])}(window.weuiModule),function(e){e.factory("$weuiToast",["$timeout","$q","$weuiBody","$compile","$rootScope",function(e,t,n,r,i){function s(s){var o={};return o.options=extend({scope:null,type:"loading",delay:3e3,text:"...",appendTo:n.get()},s||{}),o.remove=function(){o.element.remove(),o.scope.$destroy()},o.scope=(o.options.scope||i).$new(),o.show=function(){return o.element=jqLite(c[o.options.type]),o.options.appendTo.appendChild(o.element[0]),r(o.element)(o.scope),t(function(t,n){0!=o.options.delay&&e(function(){o.remove(),t()},o.options.delay)})},extend(o.scope,{text:o.options.text}),o}function o(e){return a&&a.options==e||(a=s(e)),a.show()}function u(){a&&a.remove()}var a,f='<div id="weuiToast" class="aweui-show"><div class="weui_mask_transparent"></div><div class="weui_toast"><i class="weui_icon_toast"></i><p class="weui_toast_content" ng-bind="text"></p></div></div>',l='<div id="weuiToast" class="weui_loading_toast aweui-show"><div class="weui_mask_transparent"></div><div class="weui_toast"><div class="weui_loading"><div class="weui_loading_leaf weui_loading_leaf_0"></div><div class="weui_loading_leaf weui_loading_leaf_1"></div><div class="weui_loading_leaf weui_loading_leaf_2"></div><div class="weui_loading_leaf weui_loading_leaf_3"></div><div class="weui_loading_leaf weui_loading_leaf_4"></div><div class="weui_loading_leaf weui_loading_leaf_5"></div><div class="weui_loading_leaf weui_loading_leaf_6"></div><div class="weui_loading_leaf weui_loading_leaf_7"></div><div class="weui_loading_leaf weui_loading_leaf_8"></div><div class="weui_loading_leaf weui_loading_leaf_9"></div><div class="weui_loading_leaf weui_loading_leaf_10"></div><div class="weui_loading_leaf weui_loading_leaf_11"></div></div><p class="weui_toast_content" ng-bind="text"></p></div></div>',c={loading:l,finish:f},h={show:o,hide:u,_createToast:s};return h}])}(window.weuiModule);